<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Element Filter :: Revapi</title>
    <link rel="canonical" href="https://revapi.org/revapi-basic-features/0.10.0/filter.html">
    <meta name="generator" content="Antora 2.3.3">
<link rel="stylesheet" href="../../_/css/site.css">
<link rel="stylesheet" href="../../_/css/news.css">
<link rel="stylesheet" href="../../_/css/additions.css">

<link rel="alternate" type="application/rss+xml" title="Revapi RSS" href="../../_/../revapi-site/0/news/_attachments/news.atom" />
<link rel="stylesheet" href="../../_/css/search.css">
  </head>
  <body class="article">
<header class="header">
    <nav class="navbar">
        <div class="navbar-brand">
            <a class="navbar-item" href="https://revapi.org">Revapi</a>
              <div class="navbar-item">
                <input id="search-input" type="text" placeholder="Search docs">
              </div>
            <button class="navbar-burger" data-target="topbar-nav">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
        <div id="topbar-nav" class="navbar-menu">
            <div class="navbar-end">
                <a class="navbar-item" href="../../revapi-site/0/index.html/../news/index.html">News</a>
                <a class="navbar-item" href="../../revapi-site/0/index.html/../downloads.html">Downloads</a>
                <a class="navbar-item" href="https://diff.revapi.org">Online Check</a>
                <a class="navbar-item" href="https://github.com/revapi/revapi"><img src="../../_/img/github.svg" alt="Github Repository"/></a>
                <a class="navbar-item" href="https://twitter.com/revapi_org"><img src="../../_/img/twitter.svg" alt="Twitter"/></a>
                <a class="navbar-item" href="../../_/../revapi-site/0/news/_attachments/news.atom"><img src="../../_/img/rss.svg" alt="RSS"/></a>
            </div>
        </div>
    </nav>
</header>
<div class="body">
<div class="nav-container" data-component="revapi-basic-features" data-version="0.10.0">
  <aside class="nav">
    <div class="panels">
    <div class="nav-panel-menu is-active" data-panel="menu">
        <nav class="nav-menu">
                <ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../revapi-site/0/getting-started.html">Getting Started</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../revapi-site/0/faq.html">FAQ</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../revapi/0.12.0/architecture.html">Architecture</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../revapi/0.12.0/configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../revapi-site/0/extensions.html">Extensions</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../revapi-site/0/building.html">Building</a>
  </li>
</ul>
  </li>
</ul>
            <ul class="nav-list">
                <li class="nav-item" data-depth="0">
                    <hr/>
                    <i class="nav-text">Modules</i>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../revapi-ant-task/0.10.0/index.html">
                                    <span class="nav-text">Ant Task</span>
                                </a>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../revapi/0.12.0/index.html">
                                    <span class="nav-text">API</span>
                                </a>
                            </li>
                            <li class="nav-item is-active" data-depth="0">
                                <a class="nav-link" href="index.html">
                                    <span class="nav-text">Basic Features</span>
                                </a>
                                    <ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="differences.html">Multi-purpose Difference Transform</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="reclassify.html">Classification Transform</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="filter.html">Element Filter</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="ignore.html">Ignore Differences</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="semver-ignore.html">Version-based Ignore</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="_attachments/apidocs/index.html">Javadoc</a>
  </li>
</ul>
  </li>
</ul>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../revapi-standalone/0.9.6/index.html">
                                    <span class="nav-text">CLI</span>
                                </a>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../revapi-reporter-file-base/0.2.0/index.html">
                                    <span class="nav-text">File Reporter Base</span>
                                </a>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../revapi-java/0.22.0/index.html">
                                    <span class="nav-text">Java Extension</span>
                                </a>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../revapi-java-spi/0.21.0/index.html">
                                    <span class="nav-text">Java Extension SPI</span>
                                </a>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../revapi-reporter-json/0.2.0/index.html">
                                    <span class="nav-text">JSON Reporter</span>
                                </a>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../revapi-maven-plugin/0.12.0/index.html">
                                    <span class="nav-text">Maven Plugin</span>
                                </a>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../revapi-reporter-text/0.12.0/index.html">
                                    <span class="nav-text">Text Reporter</span>
                                </a>
                            </li>
                </li>
            </ul>
        </nav>
    </div>
<div class="nav-panel-explore" data-panel="explore" style="display: none">
  <div class="context">
    <span class="title">Basic Features</span>
    <span class="version">0.10.0</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">Ant Task</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../revapi-ant-task/0.10.0/index.html">0.10.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">API</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../revapi/0.12.0/index.html">0.12.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">Basic Features</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">0.10.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">CLI</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../revapi-standalone/0.9.6/index.html">0.9.6</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">File Reporter Base</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../revapi-reporter-file-base/0.2.0/index.html">0.2.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Java Extension</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../revapi-java/0.22.0/index.html">0.22.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Java Extension SPI</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../revapi-java-spi/0.21.0/index.html">0.21.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">JSON Reporter</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../revapi-reporter-json/0.2.0/index.html">0.2.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Maven Plugin</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../revapi-maven-plugin/0.12.0/index.html">0.12.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Revapi Site</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../revapi-site/0/index.html">0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Text Reporter</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../revapi-reporter-text/0.12.0/index.html">0.12.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../revapi-site/0/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Basic Features</a></li>
    <li><a href="filter.html">Element Filter</a></li>
  </ul>
</nav>
<div class="page-versions">
      <div class="sole-version" title="Version of the component">0.10.0</div>
  <div class="version-menu">
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/revapi/revapi/edit/master/revapi-basic-features/src/site/modules/ROOT/pages/filter.adoc" title="Edit latest version of this page">Edit this page</a></div>
</div>
  <div class="content">
<article class="doc">
<h1 class="page">Element Filter</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><strong>Extension</strong>: <code>revapi.filter</code></p>
</div>
<div class="paragraph">
<p>This extension provides a highly configurable element filter (see <a href="../../revapi/0.12.0/architecture.html" class="page">architecture</a>) that
can be used to either filter out certain elements in the APIs from the analysis or to actually restrict the analysis
only to configured elements.</p>
</div>
<div class="paragraph">
<p>If no include or exclude filters are defined, everything is included. If at least 1 include filter is defined, only
the matching elements are included. Out of the included elements, some may be futher excluded by the provided exclude
filters (if any). If only exclude filters are defined, everything but the elements matching the exclude filters is
included.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sample_configuration"><a class="anchor" href="#_sample_configuration"></a>Sample Configuration</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">[
  {
    "extension": "revapi.filter",
    "configuration" : {
      "elements" : {
        "include" : ["REGEX_ON_ELEMENT_FULL_REPRESENTATIONS", "ANOTHER_REGEX_ON_ELEMENT_FULL_REPRESENTATIONS"],
        "exclude" : ["REGEX_ON_ELEMENT_FULL_REPRESENTATIONS", "ANOTHER_REGEX_ON_ELEMENT_FULL_REPRESENTATIONS"]
      },
      "archives" : {
        "include" : ["REGEX_ON_ARCHIVE_NAMES", "ANOTHER_REGEX_ON_ARCHIVE_NAMES"],
        "exclude" : ["REGEX_ON_ARCHIVE_NAMES", "ANOTHER_REGEX_ON_ARCHIVE_NAMES"]
      }
    }
  }
]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;analysisConfiguration&gt;
  &lt;revapi.filter&gt;
    &lt;elements&gt;
      &lt;include&gt;
        &lt;item&gt;REGEX_ON_ELEMENT_FULL_REPRESENTATIONS&lt;/item&gt;
        &lt;item&gt;ANOTHER_REGEX_ON_ELEMENT_FULL_REPRESENTATIONS&lt;/item&gt;
      &lt;/include&gt;
      &lt;exclude&gt;
        &lt;item&gt;REGEX_ON_ELEMENT_FULL_REPRESENTATIONS&lt;/item&gt;
        &lt;item&gt;ANOTHER_REGEX_ON_ELEMENT_FULL_REPRESENTATIONS&lt;/item&gt;
      &lt;/exclude&gt;
    &lt;/elements&gt;
    &lt;archives&gt;
      &lt;include&gt;
        &lt;item&gt;REGEX_ON_ARCHIVE_NAMES&lt;/item&gt;
        &lt;item&gt;ANOTHER_REGEX_ON_ARCHIVE_NAMES&lt;/item&gt;
      &lt;/include&gt;
      &lt;exclude&gt;
        &lt;item&gt;REGEX_ON_ARCHIVE_NAMES&lt;/item&gt;
        &lt;item&gt;ANOTHER_REGEX_ON_ARCHIVE_NAMES&lt;/item&gt;
      &lt;/exclude&gt;
    &lt;/archives&gt;
  &lt;/revapi.filter&gt;
&lt;/analysisConfiguration&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_properties"><a class="anchor" href="#_properties"></a>Properties</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>elements</code></dt>
<dd>
<p>This provides the include/exclude configuration on the individual API elements level.</p>
</dd>
<dt class="hdlist1"><code>archives</code></dt>
<dd>
<p>This provides a way to include/exclude whole archives or elements (i.e. whole maven modules)</p>
</dd>
<dt class="hdlist1"><code>include</code></dt>
<dd>
<p>The array of (java) regular expressions that the elements or archives need to match to be included in the analysis.</p>
</dd>
<dt class="hdlist1"><code>exclude</code></dt>
<dd>
<p>The array of (java) regular expressions that the elements or archives need to match to be excluded from the analysis.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example"><a class="anchor" href="#_example"></a>Example</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By specifying the following configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;analysisConfiguration&gt;
  &lt;revapi.filter&gt;
    &lt;elements&gt;
      &lt;exclude&gt;
        &lt;item&gt;class my\.great\.app\..*\.impl\..*&lt;/item&gt;
      &lt;/exclude&gt;
    &lt;/elements&gt;
    &lt;archives&gt;
      &lt;include&gt;
        &lt;item&gt;com\.acme:acme-foo:.*&lt;/item&gt;
      &lt;/include&gt;
    &lt;/archives&gt;
  &lt;/revapi.filter&gt;
&lt;/analysisConfiguration&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or equivalently</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">[
  {
    "extension": "revapi.filter",
    "configuration": {
      "elements": {
        "exclude" : ["class my\\.great\\.app\\..*\\.impl\\..*"]
      },
      "archives": {
        "include" : ["com\\.acme:acme-foo:.*"]
      }
    }
  }
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>all the java classes in any of the <code>impl</code> packages under <code>my.great.app</code> package will be excluded from API checking.
In addition, the analysis will only check elements from the archive specified archive. In this example we&#8217;re
supposing the configuration is for the maven plugin which recognizes archives by GAVs. In the example therefore we&#8217;re
limiting the checks to the archive with the <code>groupId</code> <code>com.acme</code> and <code>artifactId</code> <code>acme-foo</code> in any packaging type
and version.</p>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
    <p>Copyright 2014-2020 Lukas Krejci.</p>
    <p>This site was built using <a href="https://antora.org">Antora 2.3.3</a>.</p>
</footer>
<script>
  window.antora = window.antora || {}
  window.antora.basePath = '../..'
  window.antora.pagePath = '/revapi-basic-features/0.10.0/filter.html'
</script>
<script src="../../_/js/site.js"></script>
  <script src="../../_/js/vendor/lunr.js"></script>
  <script src="../../_/js/vendor/search.js"></script>
  <script async src="../../_/../search-index.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script>
    function toggleVersionSelector(id) {
        var sel = document.getElementById(id)
        if (!sel) {
            return
        }

        if (sel.style.display == 'none') {
            sel.style.display = 'block';
        } else {
            sel.style.display = 'none';
        }
    }
</script>  </body>
</html>
