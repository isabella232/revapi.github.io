<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><title>API on the leash</title><meta content="yes" name="apple-mobile-web-app-capable" /><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style" /><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui" name="viewport" /><link href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/reveal.css" rel="stylesheet" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/theme/beige.css" id="theme" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css" /><link href="github.css" rel="stylesheet" /><script>var link = document.createElement( 'link' );
link.rel = 'stylesheet';
link.type = 'text/css';
link.href = window.location.search.match( /print-pdf/gi ) ? "https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/print/pdf.css" : "https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/print/paper.css";
document.getElementsByTagName( 'head' )[0].appendChild( link );</script><!--[if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/lib/js/html5shiv.js"></script><![endif]--><link rel="stylesheet" href="style.css" /></head><body><div class="reveal"><div class="slides"><section class="title" data-state="title"><h1>API on the leash</h1></section><section id="about_me"><h2>About me</h2><div class="paragraph"><p><em>Lukas Krejci</em></p></div>
<div class="paragraph small"><small>Java head since before generics</small></div>
<div class="paragraph"><p>@ CA, Vienna, ex-Redhatter</p></div></section>
<section id="what_is_this_not_about"><h2>What is this NOT about?</h2><div class="ulist step no-bullet"><ul><li class="fragment"><p>How to write a good API</p></li></ul></div></section>
<section id="what_is_this_about"><h2>What IS this about?</h2><div class="ulist no-bullet"><ul><li><p>How to ease the pain when&#8230;&#8203;</p></li><li><p>you try to upgrade to a new dependency version</p></li><li><p>you realize you accidentally broke the code of your users</p></li></ul></div></section>
<section id="what_is_this_about_2"><h2>What IS this about?</h2><div class="ulist"><ul><li><p>Get the stuff I don&#8217;t have much to say about out of the way quickly</p></li><li><p>Fly through the boring definitions</p></li><li><p>Pique the curiosity</p></li><li><p>Satisfy the curiosity</p></li><li><p>Rejoice in mutual understanding</p></li></ul></div></section>
<section id="upgrades"><h2>Upgrades</h2><div class="ulist no-bullet"><ul><li><p>Just try it!</p></li><li><p>Really, that&#8217;s the best option</p></li><li><p>Thorough test-suite helps (no kidding!)</p></li></ul></div>
<aside class="notes"><div class="ulist"><ul><li><p>API changes could be reviewed upfront</p></li><li><p>Time-consuming to figure out semantic changes</p></li></ul></div></aside></section>
<section id="upgrades_2"><h2>Upgrades</h2><div class="paragraph"><p>Tooling for API change review</p></div>
<div class="ulist step no-bullet"><ul><li class="fragment"><p>CLIs: Revapi, Sigtest, japicmp</p><div class="paragraph"><p>can produce reports in various formats</p></div></li><li class="fragment"><p><a href="https://diff.revapi.org" class="bare">https://diff.revapi.org</a></p></li></ul></div></section>
<section id="what_is_an_api"><h2>What Is an API?</h2><div class="quoteblock"><blockquote>An application programming interface (API) is a set of subroutine definitions,
protocols, and tools for building application software. In general terms,
it is a set of clearly defined methods of communication between various software
components.</blockquote><div class="attribution">&#8212; wikipedia.org</div></div></section>
<section><section id="api_evolution"><h2>API Evolution</h2><div class="paragraph"><p>An art of keeping it the same but different</p></div></section><section id="staying_compatible"><h2>Staying Compatible</h2><div class="paragraph"><p>Java recognizes 3 kinds of compatibility:</p></div>
<div class="ulist"><ul><li><p>Source</p></li><li><p>Binary</p></li><li><p>Behavioral / Semantic</p></li></ul></div></section><section id="source_compatibility"><h2>Source compatibility</h2><div class="paragraph"><p>Code written against an old version of a library can be <strong>compiled</strong>
against the new version of the library without modification.</p></div>
<table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead><tr><th class="tableblock halign-left valign-top">lib-1.0</th><th class="tableblock halign-left valign-top">lib-2.0</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">package org.mylogger;

public interface Logger {
     void debug(String message);
}</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">package org.mylogger;

public interface Logger {
     void debug(CharSequence message);
}</code></pre></div></div></div></td></tr></table></section><section id="binary_compatibility"><h2>Binary compatibility</h2><div class="paragraph"><p>Code written against an old version of a library can be <strong>run</strong>
with the new version of the library without modification.</p></div>
<table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead><tr><th class="tableblock halign-left valign-top">lib-1.0</th><th class="tableblock halign-left valign-top">lib-2.0</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">package org.mylogger;

public interface Logger {
     void debug(String message);
}</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">package org.mylogger;

public interface Logger {
     void debug(CharSequence message);
}</code></pre></div></div></div></td></tr></table>
<div class="ulist step no-bullet"><ul><li class="fragment"><p><span class="icon"><i class="fa fa-thumbs-down"></i></span> NOT a good example!</p></li></ul></div></section><section id="behavioral_compatibility"><h2>Behavioral Compatibility</h2><div class="paragraph"><p>Compatible "bug for bug"</p></div>
<div class="paragraph"><p>Hard to assess by tooling</p></div></section></section>
<section><div class="paragraph huge"><p>Let&#8217;s play a short game!</p></div>
<div class="paragraph"><p>Guess what happens!</p></div></section>
<section><section class="small" data-transition="none"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead><tr><th class="tableblock halign-left valign-top">lib-1.0</th><th class="tableblock halign-left valign-top">lib-2.0</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public void method() throws IOException {
  }
}</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public void method() {
  }
}</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph"><p><strong>Main</strong></p></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">try {
  new A().method();
} catch (IOException e) {
}</code></pre></div></div></div></td></tr></table><div class="paragraph"><p>Compile with lib-1.0, run with lib-2.0? <span class="invisible huge"><span class="icon"><i class="fa fa-thumbs-up"></i></span></span></p></div></section><section class="small" data-transition="none"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead><tr><th class="tableblock halign-left valign-top">lib-1.0</th><th class="tableblock halign-left valign-top">lib-2.0</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public void method() throws IOException {
  }
}</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public void method() {
  }
}</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph"><p><strong>Main</strong></p></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">try {
  new A().method();
} catch (IOException e) {
}</code></pre></div></div></div></td></tr></table>
<div class="paragraph"><p>Compile with lib-1.0, run with lib-2.0? <span class="huge"><span class="icon"><i class="fa fa-thumbs-up"></i></span></span></p></div></section><section class="small" data-transition="none"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead><tr><th class="tableblock halign-left valign-top">lib-1.0</th><th class="tableblock halign-left valign-top">lib-2.0</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public void method() throws IOException {
  }
}</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public void method() {
  }
}</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph"><p><strong>Main</strong></p></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">try {
  new A().method();
} catch (IOException e) {
}</code></pre></div></div></div></td></tr></table>
<div class="paragraph"><p>Compile with lib-2.0, run with lib-2.0? <span class="invisible huge"><span class="icon"><i class="fa fa-thumbs-down"></i></span></span></p></div></section><section class="small" data-transition="none"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead><tr><th class="tableblock halign-left valign-top">lib-1.0</th><th class="tableblock halign-left valign-top">lib-2.0</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public void method() throws IOException {
  }
}</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public void method() {
  }
}</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph"><p><strong>Main</strong></p></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">try {
  new A().method();
} catch (IOException e) {
}</code></pre></div></div></div></td></tr></table>
<div class="paragraph"><p>Compile with lib-2.0, run with lib-2.0? <span class="huge"><span class="icon"><i class="fa fa-thumbs-down"></i></span></span></p></div></section></section>
<section><section class="small" data-transition="none"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead><tr><th class="tableblock halign-left valign-top">lib-1.0</th><th class="tableblock halign-left valign-top">lib-2.0</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
}</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public final void method() {
  }
}</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph"><p><strong>Main</strong></p></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class B extends A {
  public void method() {
  }
}</code></pre></div></div></div></td></tr></table><div class="paragraph"><p>Compile with lib-1.0, run with lib-2.0? <span class="invisible huge"><span class="icon"><i class="fa fa-thumbs-down"></i></span></span></p></div></section><section class="small" data-transition="none"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead><tr><th class="tableblock halign-left valign-top">lib-1.0</th><th class="tableblock halign-left valign-top">lib-2.0</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
}</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public final void method() {
  }
}</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph"><p><strong>Main</strong></p></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class B extends A {
  public void method() {
  }
}</code></pre></div></div></div></td></tr></table>
<div class="paragraph"><p>Compile with lib-1.0, run with lib-2.0? <span class="huge"><span class="icon"><i class="fa fa-thumbs-down"></i></span></span></p></div></section><section class="small" data-transition="none"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead><tr><th class="tableblock halign-left valign-top">lib-1.0</th><th class="tableblock halign-left valign-top">lib-2.0</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
}</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public final void method() {
  }
}</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph"><p><strong>Main</strong></p></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class B extends A {
  public void method() {
  }
}</code></pre></div></div></div></td></tr></table>
<div class="paragraph"><p>Compile with lib-2.0, run with lib-2.0? <span class="invisible huge"><span class="icon"><i class="fa fa-thumbs-down"></i></span></span></p></div></section><section class="small" data-transition="none"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead><tr><th class="tableblock halign-left valign-top">lib-1.0</th><th class="tableblock halign-left valign-top">lib-2.0</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
}</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public final void method() {
  }
}</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph"><p><strong>Main</strong></p></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class B extends A {
  public void method() {
  }
}</code></pre></div></div></div></td></tr></table>
<div class="paragraph"><p>Compile with lib-2.0, run with lib-2.0? <span class="huge"><span class="icon"><i class="fa fa-thumbs-down"></i></span></span></p></div></section></section>
<section><section class="small" data-transition="none"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead><tr><th class="tableblock halign-left valign-top">lib-1.0</th><th class="tableblock halign-left valign-top">lib-2.0</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public static final int CONST = 42;
}</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public static final int CONST = 43;
}</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph"><p><strong>Main</strong></p></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">System.out.println(A.CONST);</code></pre></div></div></div></td></tr></table><div class="paragraph"><p>Compile with lib-1.0, run with lib-2.0? <span class="invisible huge"><strong>42</strong></span></p></div></section><section class="small" data-transition="none"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead><tr><th class="tableblock halign-left valign-top">lib-1.0</th><th class="tableblock halign-left valign-top">lib-2.0</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public static final int CONST = 42;
}</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public static final int CONST = 43;
}</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph"><p><strong>Main</strong></p></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">System.out.println(A.CONST);</code></pre></div></div></div></td></tr></table>
<div class="paragraph"><p>Compile with lib-1.0, run with lib-2.0? <span class="huge"><strong>42</strong></span></p></div></section><section class="small" data-transition="none"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead><tr><th class="tableblock halign-left valign-top">lib-1.0</th><th class="tableblock halign-left valign-top">lib-2.0</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public static final int CONST = 42;
}</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public static final int CONST = 43;
}</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph"><p><strong>Main</strong></p></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">System.out.println(A.CONST);</code></pre></div></div></div></td></tr></table>
<div class="paragraph"><p>Compile with lib-2.0, run with lib-2.0? <span class="invisible huge"><strong>43</strong></span></p></div></section><section class="small" data-transition="none"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead><tr><th class="tableblock halign-left valign-top">lib-1.0</th><th class="tableblock halign-left valign-top">lib-2.0</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public static final int CONST = 42;
}</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public static final int CONST = 43;
}</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph"><p><strong>Main</strong></p></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">System.out.println(A.CONST);</code></pre></div></div></div></td></tr></table>
<div class="paragraph"><p>Compile with lib-2.0, run with lib-2.0? <span class="huge"><strong>43</strong></span></p></div></section><section class="small" data-transition="none"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead><tr><th class="tableblock halign-left valign-top">lib-1.0</th><th class="tableblock halign-left valign-top">lib-2.0</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public static final Integer CONST = new Integer(42);
}</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public static final Integer CONST = new Integer(43);
}</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph"><p><strong>Main</strong></p></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">System.out.println(A.CONST);</code></pre></div></div></div></td></tr></table>
<div class="paragraph"><p>Compile with lib-1.0, run with lib-2.0? <span class="invisible huge"><strong>43</strong></span></p></div></section><section class="small" data-transition="none"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead><tr><th class="tableblock halign-left valign-top">lib-1.0</th><th class="tableblock halign-left valign-top">lib-2.0</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public static final Integer CONST = new Integer(42);
}</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public static final Integer CONST = new Integer(43);
}</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph"><p><strong>Main</strong></p></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">System.out.println(A.CONST);</code></pre></div></div></div></td></tr></table>
<div class="paragraph"><p>Compile with lib-1.0, run with lib-2.0? <span class="huge"><strong>43</strong></span></p></div></section><section class="small" data-transition="none"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead><tr><th class="tableblock halign-left valign-top">lib-1.0</th><th class="tableblock halign-left valign-top">lib-2.0</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public static final String CONST = "42";
}</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public static final String CONST = "43";
}</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph"><p><strong>Main</strong></p></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">System.out.println(A.CONST);</code></pre></div></div></div></td></tr></table>
<div class="paragraph"><p>Compile with lib-1.0, run with lib-2.0? <span class="invisible huge"><strong>42</strong></span></p></div></section><section class="small" data-transition="none"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead><tr><th class="tableblock halign-left valign-top">lib-1.0</th><th class="tableblock halign-left valign-top">lib-2.0</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public static final String CONST = "42";
}</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public static final String CONST = "43";
}</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph"><p><strong>Main</strong></p></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">System.out.println(A.CONST);</code></pre></div></div></div></td></tr></table>
<div class="paragraph"><p>Compile with lib-1.0, run with lib-2.0? <span class="huge"><strong>42</strong></span></p></div></section><section class="small" data-transition="none"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead><tr><th class="tableblock halign-left valign-top">lib-1.0</th><th class="tableblock halign-left valign-top">lib-2.0</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public static final String CONST = "42";
}</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public static final String CONST = "43";
}</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph"><p><strong>Main</strong></p></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">System.out.println(A.CONST);</code></pre></div></div></div></td></tr></table>
<div class="paragraph"><p>Compile with lib-2.0, run with lib-2.0? <span class="invisible huge"><strong>43</strong></span></p></div></section><section class="small" data-transition="none"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead><tr><th class="tableblock halign-left valign-top">lib-1.0</th><th class="tableblock halign-left valign-top">lib-2.0</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public static final String CONST = "42";
}</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public static final String CONST = "43";
}</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph"><p><strong>Main</strong></p></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">System.out.println(A.CONST);</code></pre></div></div></div></td></tr></table>
<div class="paragraph"><p>Compile with lib-2.0, run with lib-2.0? <span class="huge"><strong>43</strong></span></p></div></section><section class="small" data-transition="none"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead><tr><th class="tableblock halign-left valign-top">lib-1.0</th><th class="tableblock halign-left valign-top">lib-2.0</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public static final int CONST = 42;
}</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
}</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph"><p><strong>Main</strong></p></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">System.out.println(A.CONST);</code></pre></div></div></div></td></tr></table>
<div class="paragraph"><p>Compile with lib-1.0, run with lib-2.0? <span class="invisible huge"><strong>42</strong></span></p></div></section><section class="small" data-transition="none"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead><tr><th class="tableblock halign-left valign-top">lib-1.0</th><th class="tableblock halign-left valign-top">lib-2.0</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public static final int CONST = 42;
}</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
}</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph"><p><strong>Main</strong></p></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">System.out.println(A.CONST);</code></pre></div></div></div></td></tr></table>
<div class="paragraph"><p>Compile with lib-1.0, run with lib-2.0? <span class="huge"><strong>42</strong></span></p></div></section></section>
<section><section class="small" data-transition="none"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead><tr><th class="tableblock halign-left valign-top">lib-1.0</th><th class="tableblock halign-left valign-top">lib-2.0</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public Collection&lt;String&gt; method() {
    ...
  }
}</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public List&lt;String&gt; method() {
    ...
  }
}</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph"><p><strong>Main</strong></p></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">Collection&lt;String&gt; col = new A().method();</code></pre></div></div></div></td></tr></table><div class="paragraph"><p>Compile with lib-1.0, run with lib-2.0? <span class="invisible huge"><span class="icon"><i class="fa fa-thumbs-down"></i></span></span></p></div></section><section class="small" data-transition="none"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead><tr><th class="tableblock halign-left valign-top">lib-1.0</th><th class="tableblock halign-left valign-top">lib-2.0</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public Collection&lt;String&gt; method() {
    ...
  }
}</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public List&lt;String&gt; method() {
    ...
  }
}</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph"><p><strong>Main</strong></p></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">Collection&lt;String&gt; col = new A().method();</code></pre></div></div></div></td></tr></table>
<div class="paragraph"><p>Compile with lib-1.0, run with lib-2.0? <span class="huge"><span class="icon"><i class="fa fa-thumbs-down"></i></span></span></p></div></section><section class="small" data-transition="none"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead><tr><th class="tableblock halign-left valign-top">lib-1.0</th><th class="tableblock halign-left valign-top">lib-2.0</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public Collection&lt;String&gt; method() {
    ...
  }
}</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public List&lt;String&gt; method() {
    ...
  }
}</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph"><p><strong>Main</strong></p></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">Collection&lt;String&gt; col = new A().method();</code></pre></div></div></div></td></tr></table>
<div class="paragraph"><p>Compile with lib-2.0, run with lib-2.0? <span class="invisible huge"><span class="icon"><i class="fa fa-thumbs-up"></i></span></span></p></div></section><section class="small" data-transition="none"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead><tr><th class="tableblock halign-left valign-top">lib-1.0</th><th class="tableblock halign-left valign-top">lib-2.0</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public Collection&lt;String&gt; method() {
    ...
  }
}</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public List&lt;String&gt; method() {
    ...
  }
}</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph"><p><strong>Main</strong></p></div></div></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">Collection&lt;String&gt; col = new A().method();</code></pre></div></div></div></td></tr></table>
<div class="paragraph"><p>Compile with lib-2.0, run with lib-2.0? <span class="huge"><span class="icon"><i class="fa fa-thumbs-up"></i></span></span></p></div></section></section>
<section class="small" data-transition="none"><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="java language-java">public class A {
  public void method(B param) {}
}

class B {
}</code></pre></div></div>
<div class="paragraph"><p>What&#8217;s wrong here?</p></div></section>
<section><section id="what_defines_a_java_api"><h2>What Defines a Java API</h2><div class="paragraph"><p>We&#8217;re at an interesting point in Java history</p></div></section><section id="java_8"><h2>Java 8-</h2><div class="paragraph"><p>Packages used to separate code</p></div>
<div class="paragraph"><p>Inheritance can "trascend" package boundaries</p></div>
<div class="paragraph"><p>Anything to be reached outside of a package must be public
(or protected to be visible in subclasses).</p></div></section><section id="java_8_2"><h2>Java 8-</h2><div class="paragraph"><p>Packages represent a conflict between:</p></div>
<div class="ulist"><ul><li><p>Code organization</p></li><li><p>API surface</p></li></ul></div></section><section id="java_8_3"><h2>Java 8-</h2><div class="paragraph"><p>Various conventions:</p></div>
<div class="ulist"><ul><li><p><code>@API</code>, <code>@Public</code>, <code>@Stable</code></p></li><li><p><code>impl</code> packages</p></li><li><p><code>Impl</code> classes</p></li><li><p>api jars and impl jars</p></li><li><p>&#8230;&#8203;</p></li></ul></div></section><section id="java_8_4"><h2>Java 8-</h2><div class="paragraph"><p>API more or less subjective</p></div>
<div class="paragraph"><p>Fun for tooling</p></div></section><section id="java_9"><h2>Java 9+</h2><div class="paragraph"><p>Modules save the day!</p></div>
<div class="ulist step no-bullet"><ul><li class="fragment"><p>&#8230;&#8203; or do they?</p></li></ul></div></section><section id="java_9_2"><h2>Java 9+</h2><div class="ulist step"><ul><li class="fragment"><p>Modules don&#8217;t declare versions</p><div class="ulist"><ul><li><p>undeterministic runtime "evironment"</p></li></ul></div></li><li class="fragment"><p>Consider exported <code>@Unstable</code> classes</p></li></ul></div></section><section id="java_9_3"><h2>Java 9+</h2><div class="paragraph"><p>Nothing really changed apart from another level of encapsulation</p></div>
<div class="paragraph"><p>The language encourages better API hygiene than prior to Java9</p></div></section></section>
<section id="tooling_to_the_rescue"><h2>Tooling to the rescue</h2><div class="paragraph"><p>To err is human</p></div>
<div class="paragraph"><p>Tooling to the rescue</p></div></section>
<section id="tooling_to_the_rescue_2"><h2>Tooling to the rescue</h2><div class="paragraph"><p>We need:</p></div>
<div class="ulist"><ul><li><p>Find API breakages</p></li><li><p>Specify the API "surface"</p><div class="ulist"><ul><li><p>Easier in Java 9</p></li></ul></div></li><li><p>Mark intentional changes</p></li><li><p>Produce reports / stabilize builds</p></li><li><p>Assign semantic version</p><div class="ulist step"><ul><li class="fragment"><p>does anyone care in 2018?</p></li></ul></div></li></ul></div></section>
<section id="revapi_to_the_rescue"><h2>Revapi to the rescue</h2><div class="paragraph logos"><p><span class="image"><img src="images/apache-camel-logo.png" alt="apache camel logo" width="200" /></span>
<span class="image"><img src="images/neo4j-logo.png" alt="neo4j logo" width="200" /></span>
<span class="image"><img src="images/apache-tinkerpop-logo.png" alt="apache tinkerpop logo" width="200" /></span>
<span class="image"><img src="images/drools-logo.png" alt="drools logo" width="200" /></span>
<span class="image"><img src="images/xwiki-logo.png" alt="xwiki logo" width="200" /></span></p></div>
<aside class="notes"><div class="paragraph"><p>Revapi&#8217;s not exactly new. Has been around for almost 4 yrs.</p></div></aside></section>
<section id="revapi_to_the_rescue_2"><h2>Revapi to the rescue</h2><div class="ulist"><ul><li><p>Build-time tool to catch API changes early</p></li><li><p>Language agnostic core</p><div class="ulist"><ul><li><p>Only Java really implemented</p></li></ul></div></li></ul></div></section>
<section id="revapi_to_the_rescue_3"><h2>Revapi to the rescue</h2><div class="ulist"><ul><li><p>Integrates into:</p><div class="ulist"><ul><li><p>Maven</p></li><li><p>CLI</p></li><li><p>Ant</p></li><li><p>Gradle</p><div class="ulist step"><ul><li class="fragment"><p>If community steps up :)</p></li></ul></div></li></ul></div></li></ul></div></section>
<section id="revapi_s_raison_d_tre"><h2>Revapi&#8217;s raison d&#8217;être</h2><div class="ulist"><ul><li><p>Several other tools doing similar thing</p><div class="ulist"><ul><li><p>Sigtest, japicmp, &#8230;&#8203;</p></li></ul></div></li><li><p>No other offers:</p></li></ul></div>
<div class="paragraph"><p><span class="icon"><i class="fa fa-long-arrow-right"></i></span></p></div></section>
<section id="revapi_s_raison_d_tre_2"><h2>Revapi&#8217;s raison d&#8217;être</h2><div class="ulist"><ul><li><p>Detailed classification</p><div class="ulist"><ul><li><p>Nuances</p></li><li><p>Severities</p></li></ul></div></li><li><p>Ignore intentional changes</p></li><li><p>Powerful filtering</p></li><li><p>Extensibility</p></li></ul></div>
<aside class="notes"><div class="ulist"><ul><li><p>Nuances</p><div class="ulist"><ul><li><p>method added / final method added to non-final class,</p></li><li><p>method removed vs. moved to superclass</p></li></ul></div></li><li><p>Ignore - japicmp comes close, but not as detailed as revapi</p></li><li><p>Extensibility</p><div class="ulist"><ul><li><p>deduce filters from OSGi manifest, mule module, module-info, &#8230;&#8203;</p></li><li><p>non-standard "policies" based on assumed conventions</p></li></ul></div></li></ul></div></aside></section>
<section id="tooling_to_the_rescue_3"><h2>Tooling to the rescue</h2><div class="ulist"><ul><li><p>Find API breakages</p></li><li><p>Specify the API "surface"</p></li><li><p>Mark intentional changes</p></li><li><p>Produce reports / stabilize builds</p></li><li><p>Assign semantic version</p></li></ul></div></section>
<section><div class="paragraph huge"><p>DEMO</p></div></section>
<section id="finding_api_breakages"><h2>Finding API Breakages</h2><div class="ulist"><ul><li><p>Distinguishes between primary API and dependencies</p><div class="ulist"><ul><li><p>Maven can supply this info</p></li></ul></div></li><li><p>Any type from dependencies exposed in the primary API is included
into the API (recursively)</p></li><li><p>Full usage graph produced</p><div class="ulist"><ul><li><p>Enables detection of exposed non-public classes</p></li></ul></div></li></ul></div></section>
<section id="finding_api_breakages_2"><h2>Finding API Breakages</h2><div class="paragraph"><p>In Maven</p></div>
<div class="ulist"><ul><li><p>reasonable defaults</p><div class="ulist"><ul><li><p>build output vs. the latest release</p></li></ul></div></li><li><p>possible to</p><div class="ulist"><ul><li><p>manually specify the version(s)</p></li><li><p>compare against latest remote snapshot</p></li><li><p>require version format</p><div class="ulist"><ul><li><p>distinguish between <code>1.2.3.Beta</code> and <code>1.2.3</code></p></li></ul></div></li><li><p>&#8230;&#8203;</p></li></ul></div></li></ul></div>
<aside class="notes"><div class="paragraph"><p>defaults: break build on potentially breaking changes</p></div></aside></section>
<section><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="xml language-xml">&lt;plugin&gt;
  &lt;groupId&gt;org.revapi&lt;/groupId&gt;
  &lt;artifactId&gt;revapi-maven-plugin&lt;/artifactId&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.revapi&lt;/groupId&gt;
      &lt;artifactId&gt;revapi-java&lt;/artifactId&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
  &lt;executions&gt;...&lt;/executions&gt;
&lt;/plugin&gt;</code></pre></div></div></section>
<section id="tooling_to_the_rescue_4"><h2>Tooling to the rescue</h2><div class="ulist"><ul><li><p><span class="icon"><i class="fa fa-check-circle"></i></span> Find API breakages</p></li><li><p>Specify the API "surface"</p></li><li><p>Mark intentional changes</p></li><li><p>Produce reports / stabilize builds</p></li><li><p>Assign semantic version</p></li></ul></div></section>
<section id="specifying_api_surface"><h2>Specifying API Surface</h2><div class="paragraph"><p>Can filter by:</p></div>
<div class="ulist"><ul><li><p>regex on element signature</p></li><li><p>package</p></li><li><p>class</p></li><li><p>archive</p></li></ul></div></section>
<section><div class="listingblock small"><div class="content"><pre class="highlight"><code data-noescape="">&lt;plugin&gt;
  ...
  &lt;configuration&gt;
    &lt;analysisConfiguration&gt;
      &lt;revapi.filter&gt;
        &lt;elements&gt;
          &lt;exclude&gt;
            &lt;item&gt;class my\.great\.app\..*\.impl\..*&lt;/item&gt;
          &lt;/exclude&gt;
        &lt;/elements&gt;
        &lt;archives&gt;
          &lt;include&gt;
            &lt;item&gt;com\.acme:acme-foo:.*&lt;/item&gt;
          &lt;/include&gt;
        &lt;/archives&gt;
      &lt;/revapi.filter&gt;
    &lt;/analysisConfiguration&gt;
  &lt;/configuration&gt;
&lt;/plugin&gt;</code></pre></div></div></section>
<section id="tooling_to_the_rescue_5"><h2>Tooling to the rescue</h2><div class="ulist"><ul><li><p><span class="icon"><i class="fa fa-check-circle"></i></span> Find API breakages</p></li><li><p><span class="icon"><i class="fa fa-check-circle"></i></span> Specify the API "surface"</p></li><li><p>Mark intentional changes</p></li><li><p>Produce reports / stabilize builds</p></li><li><p>Assign semantic version</p></li></ul></div></section>
<section id="mark_intentional_changes"><h2>Mark Intentional Changes</h2><div class="paragraph"><p>Revapi supports transforming found differences</p></div>
<div class="paragraph"><p>One such transformation might be to discard them</p></div></section>
<section><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="xml language-xml">&lt;plugin&gt;
  ...
  &lt;configuration&gt;
    &lt;analysisConfiguration&gt;
      &lt;revapi.ignore&gt;
        &lt;item&gt;
          &lt;code&gt;java.method.removed&lt;/code&gt;
          &lt;old&gt;method com.acme.MyClass::myMethod(int)&lt;/old&gt;
          &lt;justification&gt;'Cause I can!&lt;/justification&gt; <i class="conum" data-value="1"></i><b>(1)</b>
        &lt;/item&gt;
      &lt;/revapi.ignore&gt;
    &lt;/analysisConfiguration&gt;
  &lt;/configuration&gt;
&lt;/plugin&gt;</code></pre></div></div>
<div class="colist arabic small"><table><tr><td><i class="conum" data-value="1"></i><b>1</b></td><td>It&#8217;s nice to say why you&#8217;re breaking stuff for others</td></tr></table></div></section>
<section><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape="" class="json language-json">{
  "1.0.1": [ <i class="conum" data-value="1"></i><b>(1)</b>
    {
      "extension": "revapi.ignore",
      "configuration": [
        {
          "code": "java.method.removed",
          "old": "method com.acme.MyClass:myMethod(int)",
          "justification": "'Cause I can!"
        }
      ]
    }
  ]
}</code></pre></div></div>
<div class="colist arabic small"><table><tr><td><i class="conum" data-value="1"></i><b>1</b></td><td>Configuration can be version-specific, giving you 1 file to track the evolution
of the API across many versions.</td></tr></table></div>
<aside class="notes"><div class="paragraph"><p>Mention the ability to split the config across multiple files.</p></div></aside></section>
<section id="tooling_to_the_rescue_6"><h2>Tooling to the rescue</h2><div class="ulist"><ul><li><p><span class="icon"><i class="fa fa-check-circle"></i></span> Find API breakages</p></li><li><p><span class="icon"><i class="fa fa-check-circle"></i></span> Specify the API "surface"</p></li><li><p><span class="icon"><i class="fa fa-check-circle"></i></span> Mark intentional changes</p></li><li><p>Produce reports / stabilize builds</p></li><li><p>Assign semantic version</p></li></ul></div></section>
<section id="produce_reports"><h2>Produce Reports</h2><div class="ulist"><ul><li><p>Maven plugin has a <code>report</code> goal</p><div class="ulist"><ul><li><p>The report is lacking in luster</p></li></ul></div></li><li><p><code>revapi-reporter-text</code> extension</p><div class="ulist"><ul><li><p>FreeMarker based swiss-army knife for reporting</p></li></ul></div></li></ul></div></section>
<section><div class="paragraph logos"><p><span class="image"><img src="images/spoon-pr-integration.png" alt="spoon pr integration" width="500" /></span>
<span class="image"><img src="images/jooq-build-failure.png" alt="jooq build failure" /></span></p></div></section>
<section id="tooling_to_the_rescue_7"><h2>Tooling to the rescue</h2><div class="ulist"><ul><li><p><span class="icon"><i class="fa fa-check-circle"></i></span> Find API breakages</p></li><li><p><span class="icon"><i class="fa fa-check-circle"></i></span> Specify the API "surface"</p></li><li><p><span class="icon"><i class="fa fa-check-circle"></i></span> Mark intentional changes</p></li><li><p><span class="icon"><i class="fa fa-check-circle"></i></span> Produce reports / stabilize builds</p></li><li><p>Assign semantic version</p></li></ul></div></section>
<section id="assign_semantic_version"><h2>Assign Semantic Version</h2><div class="paragraph"><p>Based on the API change "level" revapi can:</p></div>
<div class="ulist"><ul><li><p>break the build</p></li><li><p>automatically update the version in <code>pom.xml</code></p><div class="ulist"><ul><li><p>using the <code>update-versions</code> goal</p></li></ul></div></li></ul></div></section>
<section id="tooling_to_the_rescue_8"><h2>Tooling to the rescue</h2><div class="ulist"><ul><li><p><span class="icon"><i class="fa fa-check-circle"></i></span> Find API breakages</p></li><li><p><span class="icon"><i class="fa fa-check-circle"></i></span> Specify the API "surface"</p></li><li><p><span class="icon"><i class="fa fa-check-circle"></i></span> Mark intentional changes</p></li><li><p><span class="icon"><i class="fa fa-check-circle"></i></span> Produce reports / stabilize builds</p></li><li><p><span class="icon"><i class="fa fa-check-circle"></i></span> Assign semantic version</p></li></ul></div></section>
<section id="revapi_s_future"><h2>Revapi&#8217;s Future</h2><div class="ulist"><ul><li><p>Enhanced matching</p><div class="ulist"><ul><li><p>Flag all elements from the <code>@Stable</code> API that (indirectly) expose <code>@Unstable</code> elements</p></li></ul></div></li><li><p>Tap into territories other than just core Java</p><div class="ulist"><ul><li><p>JAX-RS</p></li><li><p>JPA</p></li><li><p>OpenAPI</p></li></ul></div></li></ul></div></section>
<section id="wrap_up"><h2>Wrap up</h2><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><tbody><tr><td class="tableblock halign-center valign-top"><div><div class="paragraph"><p>APIs are:</p></div>
<div class="ulist"><ul><li><p>crucial for interoperability</p></li><li><p>brittle</p></li></ul></div></div></td><td class="tableblock halign-center valign-top"><div><div class="paragraph"><p>Revapi and other tools:</p></div>
<div class="ulist"><ul><li><p>avoid accidental changes</p></li><li><p>figure out what changed</p></li><li><p>should be used by everyone <span class="icon"><i class="fa fa-smile"></i></span></p></li></ul></div></div></td></tr><tr><td class="tableblock halign-right valign-top"><div><div class="paragraph contacts"><p><span class="icon"><i class="fa fa-globe"></i></span>&#160;<a href="https://revapi.org">https://revapi.org</a></p></div>
<div class="paragraph contacts"><p><span class="icon"><i class="fa fa-github"></i></span>&#160;<a href="https://github.com/revapi">https://github.com/revapi</a></p></div>
<div class="paragraph contacts"><p><span class="icon"><i class="fa fa-twitter"></i></span>&#160;@revapi_org</p></div></div></td><td class="tableblock halign-left valign-top"><div><div class="paragraph contacts"><p><span class="icon"><i class="fa fa-twitter"></i></span>&#160;@krejcil</p></div></div></td></tr></table></section></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/lib/js/head.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/js/reveal.js"></script><script>// See https://github.com/hakimel/reveal.js#configuration for a full list of configuration options
Reveal.initialize({
  // Display controls in the bottom right corner
  controls: true,
  // Display a presentation progress bar
  progress: true,
  // Set a per-slide timing for speaker notes, null means none
  defaultTiming: null,
  // Display the page number of the current slide
  slideNumber: true,
  // Push each slide change to the browser history
  history: false,
  // Enable keyboard shortcuts for navigation
  keyboard: true,
  // Enable the slide overview mode
  overview: true,
  // Vertical centering of slides
  center: true,
  // Enables touch navigation on devices with touch input
  touch: true,
  // Loop the presentation
  loop: false,
  // Change the presentation direction to be RTL
  rtl: false,
  // Randomizes the order of slides each time the presentation loads
  shuffle: false,
  // Turns fragments on and off globally
  fragments: true,
  // Flags if the presentation is running in an embedded mode,
  // i.e. contained within a limited portion of the screen
  embedded: false,
  // Flags if we should show a help overlay when the questionmark
  // key is pressed
  help: true,
  // Flags if speaker notes should be visible to all viewers
  showNotes: false,
  // Global override for autolaying embedded media (video/audio/iframe)
  // - null: Media will only autoplay if data-autoplay is present
  // - true: All media will autoplay, regardless of individual setting
  // - false: No media will autoplay, regardless of individual setting
  autoPlayMedia: null,
  // Number of milliseconds between automatically proceeding to the
  // next slide, disabled when set to 0, this value can be overwritten
  // by using a data-autoslide attribute on your slides
  autoSlide: 0,
  // Stop auto-sliding after user input
  autoSlideStoppable: true,
  // Enable slide navigation via mouse wheel
  mouseWheel: false,
  // Hides the address bar on mobile devices
  hideAddressBar: true,
  // Opens links in an iframe preview overlay
  previewLinks: false,
  // Theme (e.g., beige, black, league, night, serif, simple, sky, solarized, white)
  // NOTE setting the theme in the config no longer works in reveal.js 3.x
  //theme: Reveal.getQueryHash().theme || 'beige',
  // Transition style (e.g., none, fade, slide, convex, concave, zoom)
  transition: Reveal.getQueryHash().transition || 'slide',
  // Transition speed (e.g., default, fast, slow)
  transitionSpeed: 'default',
  // Transition style for full page slide backgrounds (e.g., none, fade, slide, convex, concave, zoom)
  backgroundTransition: 'fade',
  // Number of slides away from the current that are visible
  viewDistance: 3,
  // Parallax background image (e.g., "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'")
  parallaxBackgroundImage: '',
  // Parallax background size in CSS syntax (e.g., "2100px 900px")
  parallaxBackgroundSize: '',

  // The "normal" size of the presentation, aspect ratio will be preserved
  // when the presentation is scaled to fit different resolutions. Can be
  // specified using percentage units.
  width: 960,
  height: 700,

  // Factor of the display size that should remain empty around the content
  margin: 0.1,

  // Bounds for smallest/largest possible scale to apply to content
  minScale: 0.2,
  maxScale: 1.5,

  // Optional libraries used to extend on reveal.js
  dependencies: [
      { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/lib/js/classList.js', condition: function() { return !document.body.classList; } },
      { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
      { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/plugin/zoom-js/zoom.js', async: true },
      { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/plugin/notes/notes.js', async: true }
  ]
});</script></body></html>